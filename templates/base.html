<!DOCTYPE html>
<html>
<head>
    <title></title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/semantic.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/blueimp-gallery.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/default.css') }}">
    <script type="text/javascript" src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/semantic.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/jquery.blueimp-gallery.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/dropzone.min.js') }}"></script>
</head>
<body>

    <main class="ui grid">

        <section class="column">
            <div class="ui fluid four item pointing menu">
                <a class="item" id="do-upload"><i class="upload icon"></i> Upload</a>
                <a class="item"><i class="photo icon"></i> Albums</a>
                <a class="item"><i class="help icon"></i> Help</a>
                <a class="item"><i class="off icon"></i> Logout</a>
            </div>

            {% block content %}{% endblock %}
        </section>

    </main>

    <div id="modal-upload" class="ui modal">
        <div class="content" id="dropzone">
            <div class="ui basic segment">
                Drop your images in this area to upload
            </div>
            <div class="ui six items preview"></div>
        </div>
        <div class="actions">
            <div class="ui button"><i class="remove icon"></i> Cancel</div>
            <div class="ui green button"><i class="checkmark icon"></i> Save</div>
        </div>
    </div>

    <script type="text/javascript">
        $(function() {

            // upload
            $("#dropzone").dropzone({
                url: '/upload',
                acceptedFiles: '.jpg,.jpeg,.gif,.png,image/*',
                previewsContainer: '.preview',
                previewTemplate:
                        '<div class="small item visible content">' +
                            '<div class="ui active dimmer">' +
                                '<div class="content">' +
                                    '<div class="center">' +
                                        '<div class="ui loader"></div>' +
                                    '</div>' +
                                '</div>' +
                            '</div>' +
                            '<div class="small image"><img data-dz-thumbnail />' +
                        '</div>',
                success: function(file) {
                    $(file.previewElement).find('.dimmer').dimmer('hide');
                }
            });

            // show upload modal
            $('#do-upload').click(function() {
                $('#modal-upload').modal('show');
            });

        });
    </script>

</body>
</html>